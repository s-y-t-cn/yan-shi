import{d as F,r as D,y as B,z as v,c as s,k as d,w as r,M as f,j as c,t as _,g as i,e as w,H as k,G as h,a8 as x,a9 as N}from"./index-3lwVo2y0.js";import{E as O}from"./el-space-nclD-xc-.js";import{E as T,a as C}from"./el-timeline-item-CA3VQ1k4.js";import{E as j}from"./el-card-DsiDhd6c.js";/* empty css                     */import{f as J}from"./examples-qXBsSl1_.js";import{S as L}from"./SytPreviewItem-DkL6L2Rj.js";import{a as R}from"./index-kL61-N24.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vnode-mNfM4dg-.js";import"./index-DlwHQsx5.js";import"./plugin-vue_export-helper-CqGSI99y.js";import"./index-F5rh05N7.js";import"./index-BWwQj9eg.js";import"./index-qESz8UqH.js";import"./typescript-gghwE45V.js";import"./index-sCpGYuuU.js";/* empty css                  */import"./el-tag-Dx9-JzTw.js";import"./el-checkbox-s_GngyB_.js";import"./_Uint8Array-DyXCWp4w.js";import"./isEqual-DSxYV8To.js";import"./index-Wki9wfLK.js";import"./focus-trap-BjQrKON9.js";import"./scroll-BTBHWhC0.js";import"./castArray-Br8Ioqbo.js";import"./el-radio-BEwXQFWd.js";import"./index-dhLKrPE9.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BbsUdgo6.js";import"./index-DyexuUs5.js";import"./_baseClone-BmgoMR3V.js";const z=n=>(x("data-v-4b642ccb"),n=n(),N(),n),G=z(()=>c("span",null,"流程",-1)),H=F({__name:"View",props:{data:Object},setup(n){const S=n;let o=D({name:"",status:"",submitter:{},formData:[],flowData:[]});B(()=>JSON.parse(JSON.stringify(S.data)),async t=>{let e=t.formData,a=(await J({name:t.name})).data.formData;for(let l in e)y(l,a).value=e[l];o.value=t,o.value.formData=a},{deep:!0,immediate:!0});const y=(t,e)=>{for(let a of e)if(a.type==="layout"){for(let l of a.cols)for(let p of l.children)if(t===p.field)return p}else if(t===a.field)return a};let E=v(()=>{let t=o.value.flowData.map(e=>{switch(e.status){case"未处理":e.color="";break;case"处理中":e.color="";break;case"通过":e.color="#00aabb";break;case"否决":e.color="#ff0000"}return e});return t.unshift({type:"发起人",label:o.value.submitter.nickname,color:"#00aabb"}),t});const b=D();return(t,e)=>{const a=R,l=j,p=C,V=T,g=O;return s(),d(g,{direction:"vertical",fill:"",class:"submit-container"},{default:r(()=>[f(l,null,{header:r(()=>[c("h1",null,_(i(o).name),1)]),default:r(()=>[f(a,{ref_key:"ruleFormRef",ref:b,model:i(o).formData,disabled:""},{default:r(()=>[(s(!0),w(h,null,k(i(o).formData,(m,u)=>(s(),d(L,{key:m.field,modelValue:i(o).formData[u],"onUpdate:modelValue":I=>i(o).formData[u]=I,index:u.toString(),"rule-form-ref":b.value},null,8,["modelValue","onUpdate:modelValue","index","rule-form-ref"]))),128))]),_:1},8,["model"])]),_:1}),f(l,null,{header:r(()=>[G]),default:r(()=>[f(V,null,{default:r(()=>[(s(!0),w(h,null,k(i(E),m=>(s(),d(p,{key:m.id,color:m.color,timestamp:m.timestamp},{default:r(()=>[c("div",null,_(m.type),1),c("div",null,_(m.label),1)]),_:2},1032,["color","timestamp"]))),128))]),_:1})]),_:1})]),_:1})}}}),Se=U(H,[["__scopeId","data-v-4b642ccb"]]);export{Se as default};
