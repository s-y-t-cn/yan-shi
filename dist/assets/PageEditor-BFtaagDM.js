const __vite__fileDeps=["assets/NFlex-BFT4-ST1.js","assets/index-wChoSQeH.js","assets/index-B_Hnl0wI.css","assets/el-card-DX43uJLz.js","assets/plugin-vue_export-helper-CqGSI99y.js","assets/el-card-BRs6t4Sx.css","assets/focus-trap-jsAX95gq.js","assets/typescript-C2L8DowG.js","assets/index-CBgWw-pb.js","assets/index-D-RVAyLI.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/castArray-3P2b58-t.js","assets/index-2yyIJQ-W.js","assets/index-DMzLImq4.js","assets/index-CGVGE0Ah.js","assets/vnode-DAic0pXr.js","assets/scroll-DTGRP1iM.js","assets/NForm-FpSodswP.js","assets/index-19VOIpai.js","assets/_baseClone-b8vWj-bA.js","assets/_Uint8Array-Tq6A7aOA.js","assets/NInput-CDo5N4jp.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Ae=Object.defineProperty;var je=(t,e,a)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var V=(t,e,a)=>je(t,typeof e!="symbol"?e+"":e,a);import{b as be,h as Pe,am as Te,C as Fe,an as Ye,r as _,y as Xe,p as Oe,a as me,z as L,d as R,c as Z,e as ae,f as U,n as X,g as f,i as Be,j as O,O as A,t as He,M as l,w as K,L as Ke,S as Ue,K as We,Q as qe,q as Ne,s as Ge,ao as Qe,ap as Je,k as Ze,A as Me,l as et,aq as tt,ar as st,as as ot,o as nt,at as ie,I as fe,au as J,G as ye,a7 as at,a0 as G,ai as lt,ak as rt,av as it,x as ce,J as ct,a8 as dt,a9 as ut}from"./index-wChoSQeH.js";import{E as pt}from"./el-card-DX43uJLz.js";import{a as Re}from"./focus-trap-jsAX95gq.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as mt}from"./typescript-C2L8DowG.js";import{U as Ie,C as De,E as de}from"./index-CBgWw-pb.js";import{c as we}from"./castArray-3P2b58-t.js";import{_ as _e}from"./plugin-vue_export-helper-CqGSI99y.js";import{_ as ft}from"./index-2yyIJQ-W.js";import{o as vt,m as ht,E as pe,b as bt,f as gt}from"./index-D-RVAyLI.js";import{E as _t,a as xe}from"./index-DMzLImq4.js";import{b as yt}from"./index-CGVGE0Ah.js";const Ce=t=>Te(t)||Fe(t)||Ye(t),wt=be({accordion:Boolean,modelValue:{type:Pe([Array,String,Number]),default:()=>mt([])}}),xt={[Ie]:Ce,[De]:Ce},Le=Symbol("collapseContextKey"),Ct=(t,e)=>{const a=_(we(t.modelValue)),s=n=>{a.value=n;const r=t.accordion?a.value[0]:a.value;e(Ie,r),e(De,r)},o=n=>{if(t.accordion)s([a.value[0]===n?"":n]);else{const r=[...a.value],p=r.indexOf(n);p>-1?r.splice(p,1):r.push(n),s(r)}};return Xe(()=>t.modelValue,()=>a.value=we(t.modelValue),{deep:!0}),Oe(Le,{activeNames:a,handleItemClick:o}),{activeNames:a,setActiveNames:s}},Et=()=>{const t=me("collapse");return{rootKls:L(()=>t.b())}},$t=R({name:"ElCollapse"}),Pt=R({...$t,props:wt,emits:xt,setup(t,{expose:e,emit:a}){const s=t,{activeNames:o,setActiveNames:n}=Ct(s,a),{rootKls:r}=Et();return e({activeNames:o,setActiveNames:n}),(p,c)=>(Z(),ae("div",{class:X(f(r))},[U(p.$slots,"default")],2))}});var Nt=_e(Pt,[["__file","collapse.vue"]]);const Mt=be({title:{type:String,default:""},name:{type:Pe([String,Number]),default:void 0},disabled:Boolean}),Rt=t=>{const e=Be(Le),{namespace:a}=me("collapse"),s=_(!1),o=_(!1),n=vt(),r=L(()=>n.current++),p=L(()=>{var y;return(y=t.name)!=null?y:`${a.value}-id-${n.prefix}-${f(r)}`}),c=L(()=>e==null?void 0:e.activeNames.value.includes(f(p)));return{focusing:s,id:r,isActive:c,handleFocus:()=>{setTimeout(()=>{o.value?o.value=!1:s.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(f(p)),s.value=!1,o.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(f(p))}}},It=(t,{focusing:e,isActive:a,id:s})=>{const o=me("collapse"),n=L(()=>[o.b("item"),o.is("active",f(a)),o.is("disabled",t.disabled)]),r=L(()=>[o.be("item","header"),o.is("active",f(a)),{focusing:f(e)&&!t.disabled}]),p=L(()=>[o.be("item","arrow"),o.is("active",f(a))]),c=L(()=>o.be("item","wrap")),g=L(()=>o.be("item","content")),E=L(()=>o.b(`content-${f(s)}`)),C=L(()=>o.b(`head-${f(s)}`));return{arrowKls:p,headKls:r,rootKls:n,itemWrapperKls:c,itemContentKls:g,scopedContentId:E,scopedHeadId:C}},Dt=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],Lt=["id","aria-hidden","aria-labelledby"],kt=R({name:"ElCollapseItem"}),St=R({...kt,props:Mt,setup(t,{expose:e}){const a=t,{focusing:s,id:o,isActive:n,handleFocus:r,handleHeaderClick:p,handleEnterClick:c}=Rt(a),{arrowKls:g,headKls:E,rootKls:C,itemWrapperKls:y,itemContentKls:v,scopedContentId:u,scopedHeadId:D}=It(a,{focusing:s,isActive:n,id:o});return e({isActive:n}),(k,P)=>(Z(),ae("div",{class:X(f(C))},[O("button",{id:f(D),class:X(f(E)),"aria-expanded":f(n),"aria-controls":f(u),"aria-describedby":f(u),tabindex:k.disabled?-1:0,type:"button",onClick:P[0]||(P[0]=(...h)=>f(p)&&f(p)(...h)),onKeydown:P[1]||(P[1]=Ke(Ue((...h)=>f(c)&&f(c)(...h),["stop","prevent"]),["space","enter"])),onFocus:P[2]||(P[2]=(...h)=>f(r)&&f(r)(...h)),onBlur:P[3]||(P[3]=h=>s.value=!1)},[U(k.$slots,"title",{},()=>[A(He(k.title),1)]),l(f(pe),{class:X(f(g))},{default:K(()=>[l(f(ht))]),_:1},8,["class"])],42,Dt),l(f(ft),null,{default:K(()=>[We(O("div",{id:f(u),role:"region",class:X(f(y)),"aria-hidden":!f(n),"aria-labelledby":f(D)},[O("div",{class:X(f(v))},[U(k.$slots,"default")],2)],10,Lt),[[qe,f(n)]])]),_:3})],2))}});var ke=_e(St,[["__file","collapse-item.vue"]]);const Vt=Ne(Nt,{CollapseItem:ke}),Ee=Ge(ke),zt=be({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Qe,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),At=R({name:"ElText"}),jt=R({...At,props:zt,setup(t){const e=t,a=bt(),s=me("text"),o=L(()=>[s.b(),s.m(e.type),s.m(a.value),s.is("truncated",e.truncated),s.is("line-clamp",!Je(e.lineClamp))]);return(n,r)=>(Z(),Ze(et(n.tag),{class:X(f(o)),style:Me({"-webkit-line-clamp":n.lineClamp})},{default:K(()=>[U(n.$slots,"default")]),_:3},8,["class","style"]))}});var Tt=_e(jt,[["__file","text.vue"]]);const H=Ne(Tt),Ft={class:"header"},Yt={class:"content"},Xt=R({__name:"Drawer",props:tt({width:{type:String,default:"30%"},direction:{type:String,default:"rtl"}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,a=st(t,"modelValue");return(s,o)=>(Z(),ae("div",{class:X(["drawer",[{hide:!a.value},e.direction]]),style:Me({width:e.width})},[O("div",Ft,[U(s.$slots,"header",{},void 0,!0)]),O("div",Yt,[l(f(Re),null,{default:K(()=>[U(s.$slots,"default",{},void 0,!0)]),_:3})])],6))}}),$e=ge(Xt,[["__scopeId","data-v-daed0d0e"]]),Ot={__name:"PieMenu",props:{data:{type:Array,default(){return[{title:"菜单1",handleClick:()=>{},children:[{title:"菜单1-1",handleClick:()=>{}},{title:"菜单1-2",handleClick:()=>{}}]},{title:"菜单2",handleClick:()=>{},children:[{title:"菜单2-1",handleClick:()=>{}},{title:"菜单2-2",handleClick:()=>{}}]}]}}},emits:["click"],setup(t,{emit:e}){ot(h=>({"17432dc8":f(c)}));const a=t,s=e,o=2*Math.PI;let n=_(),r=_(),p=_(80),c=L(()=>`${p.value}px`),g=L(()=>p.value/2),E=_(70),C=_(o);const y=new WeakMap,v=h=>{const d=!y.get(h),{level:b,index:w,pIndex:i}=h.dataset,x=i.split("-");y.set(h,d),n.value.querySelectorAll("div[data-level]").forEach($=>{x.includes($.dataset.index)||h===$||($.dataset.level>Number(b)&&$.classList.remove("show"),$.classList.remove("active"),y.set($,!1))}),d?(h.classList.add("active"),n.value.querySelectorAll(`div[data-level='${+b+1}'][data-p-index*='${w}']`).forEach(m=>m.classList.add("show"))):h.classList.remove("active")},u=()=>Math.random().toString(16).replace(".","");let D=(h,d,b)=>{const w=C.value/h.length,i=w>=o?o-.001:w,x=h.length==1?1:0;for(let I=0,$=h;I<$.length;I++){let m=g.value+E.value*d,z=I*i,S=(I+1)*i,j=m+Math.sin(z)*m,ee=m-Math.cos(z)*m,te=m+Math.sin(S)*m,se=m-Math.cos(S)*m,M=document.createElement("div");M.classList.add("menu-item"),M.dataset.level=+d,M.dataset.index=u(),M.dataset.pIndex=b.dataset.pIndex?`${b.dataset.pIndex}-${b.dataset.index}`:`${b.dataset.index}`,M.style.setProperty("width",`${m*2}px`),M.style.setProperty("height",`${m*2}px`),M.style.setProperty("z-index",-d),M.style.setProperty("clip-path",`path("M ${m} ${m} L ${j} ${ee} A ${m} ${m} 0 ${x} 1 ${te} ${se} z")`);const T=document.createElement("div");T.className="item-bg",d%2==0?T.classList.add("bg-even"):T.classList.add("bg-odd"),S=(I+1)*i-.01,j=m+Math.sin(z)*m,ee=m-Math.cos(z)*m,te=m+Math.sin(S)*m,se=m-Math.cos(S)*m,T.style.setProperty("width",`${m*2}px`),T.style.setProperty("height",`${m*2}px`),T.style.setProperty("clip-path",`path("M ${m} ${m} L ${j} ${ee} A ${m} ${m} 0 ${x} 1 ${te} ${se} z")`),M.appendChild(T);let W=(I+1/2)*i,le=m-E.value/2,F=document.createElement("div");F.style.left=m+Math.sin(W)*le+"px",F.style.top=m-Math.cos(W)*le+"px",F.style.setProperty("position","absolute"),F.style.whiteSpace="nowrap",F.style.transform=`translate(-50%, -50%) rotate(${-Math.PI/2+W}rad)`;let q=document.createElement("div"),oe=W>Math.PI?Math.PI:0;q.style.transform=`rotateY(${oe}rad) rotateX(${oe}rad)`,q.innerText=$[I].title,F.appendChild(q),M.appendChild(F),M.addEventListener("pointerdown",()=>{var ne,B;(B=(ne=$[I]).handleClick)==null||B.call(ne),s("click",$[I].title)}),M.addEventListener("pointerdown",()=>v(M)),n.value.insertAdjacentElement("afterbegin",M),$[I].children&&D($[I].children,d+1,M)}};const k=(h,d)=>{let b={offsetX:0,offsetY:0};const w=i=>{const x=i.clientX,I=i.clientY,{offsetX:$,offsetY:m}=b,z=h.getBoundingClientRect(),S=z.left,j=z.top,ee=z.width,te=z.height,se=document.documentElement.clientWidth,M=document.documentElement.clientHeight,T=-S+$,W=-j+m,le=se-S-ee+$,F=M-j-te+m,q=ne=>{let B=$+ne.clientX-x,re=m+ne.clientY-I;B=Math.min(Math.max(B,T),le),re=Math.min(Math.max(re,W),F),b={offsetX:B,offsetY:re},h&&(h.style.transform=`translate(${B}px, ${re}px)`)},oe=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",oe)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",oe)};d.addEventListener("mousedown",w)},P=()=>{k(n.value,r.value);const h="0",d=u();r.value.dataset.level=h,r.value.dataset.index=d,r.value.dataset.pIndex="",D(a.data,+h+1,r.value),r.value.addEventListener("pointerdown",b=>v(r.value))};return nt(()=>{P()}),(h,d)=>(Z(),ae("div",{ref_key:"rongQi",ref:n,class:"rong-qi"},[O("div",{ref_key:"center",ref:r,class:"center",draggable:"false",onDblclick:d[0]||(d[0]=b=>s("click","center"))},[U(h.$slots,"center",{draggable:"false"},()=>[A("菜单")],!0)],544)],512))}},Bt=ge(Ot,[["__scopeId","data-v-b623badb"]]),Ht="_editor_30cv5_1",Kt="_container_30cv5_17",ue={editor:Ht,container:Kt,"drawer-title":"_drawer-title_30cv5_39"},Ut=Object.assign({"./components/NFlex/NFlex.tsx":()=>ie(()=>import("./NFlex-BFT4-ST1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])),"./components/NForm/NForm.tsx":()=>ie(()=>import("./NForm-FpSodswP.js"),__vite__mapDeps([17,1,2,18,9,4,11,7,19,20,3,5,6,8,10,12,13,14,15,16])),"./components/NInput/NInput.tsx":()=>ie(()=>import("./NInput-CDo5N4jp.js"),__vite__mapDeps([21,8,1,2,7,9,4,3,5,6,10,11,12,13,14,15,16])),"./components/NPage/NPage.tsx":()=>ie(()=>Promise.resolve().then(()=>Jt),void 0)});function Se(t,e){if(e.parent==t)return!0;if(e.parent)return Se(t,e.parent)}async function Wt(t){const e=new Image,a=document.createElement("canvas"),s=a.getContext("2d"),o=15;s.font=`${o}px math`;const n=s.measureText(t).width,r=10,p=r*2;return s.strokeStyle="rgb(0 100 200 / 1)",s.strokeRect(0,0,n+p,o+p),s.fillStyle="rgb(0 100 200 / 0.5)",s.fillRect(0,0,n+p,o+p),s.fillStyle="#fff",s.textBaseline="top",s.fillText(t,r,r),e.src=a.toDataURL(),await new Promise(c=>{e.onload=c}),e}function qt(){var r;if((r=window.crypto)!=null&&r.randomUUID)return crypto.randomUUID();const t=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],e=Math.random()*4294967295|0,a=Math.random()*4294967295|0,s=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(t[e&255]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[a&255]+t[a>>8&255]+"-"+t[a>>16&15|64]+t[a>>24&255]+"-"+t[s&63|128]+t[s>>8&255]+"-"+t[s>>16&255]+t[s>>24&255]+t[o&255]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]).toLowerCase()}const Gt="_params_jtojc_53",N={"item-node":"_item-node_jtojc_1","view-card":"_view-card_jtojc_15","view-card-header":"_view-card-header_jtojc_39","view-card-body":"_view-card-body_jtojc_45",params:Gt,"params-title":"_params-title_jtojc_59","params-item":"_params-item_jtojc_65","params-item-label":"_params-item-label_jtojc_73"},Q=class Q{constructor(e){V(this,"uuid",qt());V(this,"isItemNode",!0);V(this,"path","");V(this,"name","");V(this,"props",fe({style:{position:"relative"}}));V(this,"elRef",_());V(this,"viewRef",_());V(this,"children",fe([]));V(this,"active",!1);Object.defineProperty(this,"children",{writable:!1}),e&&(this.uuid=e.uuid,this.path=e.path,this.name=e.name,this.props=fe(e.props)),this.component=J(R((a,{emit:s,slots:o})=>{const n=this.setActive.bind(this);let r;Wt(this.name).then(v=>r=v);const p=v=>{if(!this.elRef.value)return;v.stopPropagation(),n();const u=new Event("node-select",{bubbles:!0,cancelable:!1});u.targetNode=this,this.elRef.value.dispatchEvent(u)},c=v=>{if(!this.elRef.value)return;v.stopPropagation();const u=new Event("hover",{bubbles:!0,cancelable:!1});u.targetNode=this,this.elRef.value.dispatchEvent(u)},g=v=>{if(!this.elRef.value)return;v.stopPropagation(),v.dataTransfer.setDragImage(r,0,0);const u=new Event("drag-node",{bubbles:!0,cancelable:!1});u.targetNode=this,this.elRef.value.dispatchEvent(u)},E=v=>{v.preventDefault()},C=v=>{if(!this.elRef.value)return;v.stopPropagation();const u=new Event("dragenter-node",{bubbles:!0,cancelable:!1});u.targetNode=this,this.elRef.value.dispatchEvent(u)},y=v=>{if(!this.elRef.value)return;v.stopPropagation();const u=new Event("drop-node",{bubbles:!0,cancelable:!1});u.targetNode=this,this.elRef.value.dispatchEvent(u)};return()=>{var v;return l("div",{ref:this.elRef,class:`${N["item-node"]}`,style:this.props.style,onClick:p,onMouseover:c,onDragstart:g,onDragover:E,onDragenter:C,onDrop:y},[(v=o.default)==null?void 0:v.call(o)])}})),this.view=J(R((a,{slots:s})=>{const o=n=>{n.stopPropagation();const r=new Event("drag-node",{bubbles:!0,cancelable:!1});r.targetNode=new(Object.getPrototypeOf(this)).constructor,this.viewRef.value.dispatchEvent(r)};return()=>{var n;return l("div",{ref:this.viewRef,class:N["view-card"],draggable:!0,onDragstart:o},[l("div",{class:N["view-card-header"]},[this.name]),l("div",{class:N["view-card-body"]},[(n=s.default)==null?void 0:n.call(s)])])}},{props:{header:String}})),this.params=J(R((a,{slots:s})=>()=>l(ye,null,[l(Vt,{modelValue:["1","2"],class:N.params},{default:()=>[l(Ee,{name:"1"},{title:()=>l(H,{class:N["params-title"],tag:"b"},{default:()=>[A("样式")]}),default:()=>[l("div",{class:N["params-item"]},[l(H,{class:N["params-item-label"],type:"info",truncated:!0},{default:()=>[A("宽度")]}),l(de,{modelValue:this.props.style.width,"onUpdate:modelValue":o=>this.props.style.width=o,size:"small"},null)]),l("div",{class:N["params-item"]},[l(H,{class:N["params-item-label"],type:"info",truncated:!0},{default:()=>[A("高度")]}),l(de,{modelValue:this.props.style.height,"onUpdate:modelValue":o=>this.props.style.height=o,size:"small"},null)]),l("div",{class:N["params-item"]},[l(H,{class:N["params-item-label"],type:"info",truncated:!0},{default:()=>[A("定位")]}),l(_t,{modelValue:this.props.style.position,"onUpdate:modelValue":o=>{this.props.style.position=o,this.props.style.left=this.props.style.top="auto"}},{default:()=>[l(xe,{value:"relative",label:"relative"},null),l(xe,{value:"absolute",label:"absolute"},null)]})]),l(ye,null,[this.props.style.position=="absolute"&&[l("div",{class:N["params-item"]},[l(H,{class:N["params-item-label"],type:"info",truncated:!0},{default:()=>[A("left")]}),l(de,{modelValue:this.props.style.left,"onUpdate:modelValue":o=>this.props.style.left=o,size:"small"},null)]),l("div",{class:N["params-item"]},[l(H,{class:N["params-item-label"],type:"info",truncated:!0},{default:()=>[A("top")]}),l(de,{modelValue:this.props.style.left,"onUpdate:modelValue":o=>this.props.style.left=o,size:"small"},null)])]])]}),l(Ee,{name:"2"},{title:()=>l(H,{class:N["params-title"],tag:"b"},{default:()=>[A("组件参数")]}),default:()=>{var o;return(o=s.default)==null?void 0:o.call(s)}})]})]))),Q.allNode.add(this)}setActive(){Q.allNode.forEach(e=>e.active=!1),this.active=!0}add(e){e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e)}insert(e,a,s="before"){e.parent&&e.parent.remove(e);const o=this.children.indexOf(a);o!=-1&&(e.parent=this,s==="before"?this.children.splice(o,0,e):s==="after"&&this.children.splice(o+1,0,e))}remove(e){e.parent=null;const a=this.children.indexOf(e);a!==-1&&this.children.splice(a,1)}destroy(){Q.allNode.delete(this)}};V(Q,"allNode",new Set);let he=Q;class Qt extends he{constructor(a){super(a);V(this,"isContainerNode",!0);const s=this.component;this.component=J(R((o,{slots:n})=>()=>l(s,null,{default:()=>{var r;return(r=n.default)==null?void 0:r.call(n)}})))}}class Ve extends Qt{constructor(a){super(a);V(this,"isNPage",!0);this.path="./components/NPage/NPage.tsx";const s=this.props.style;this.props.style={width:"1000px",height:"800px",background:"rgb(255 255 255 / 1)",boxShadow:"0 0 20px rgb(0 100 200 / 0.5)",...s,transform:"none",inset:"auto",position:"absolute"};const o=this.component;this.component=J(R(r=>()=>l(o,null,{default:()=>[l(Re,null,{default:()=>[l(at,{name:"list"},{default:()=>this.children.map((p,c)=>G(p.component,{key:p.uuid}))})]})]}),{name:"NPage"}));const n=this.params;this.params=J(R(()=>()=>l(n,null,{default:()=>[l("div",{class:N["params-item"]},[l(gt,{class:N["params-item-label"],onClick:()=>this.props.style.transform=""},{default:()=>[A("缩放重置")]})])]})))}}const Jt=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),Zt="_controls_1sk7w_1",es="_move_1sk7w_35",ts="_button_1sk7w_107",Y={controls:Zt,move:es,"right-resize":"_right-resize_1sk7w_53","bottom-resize":"_bottom-resize_1sk7w_71","corner-resize":"_corner-resize_1sk7w_89","button-list":"_button-list_1sk7w_107",button:ts};function ss(t,e,a=!0,s){let o={offsetX:0,offsetY:0};const n=r=>{const p=window.getComputedStyle(t),c=Number.parseFloat(p.getPropertyValue("left")),g=Number.parseFloat(p.getPropertyValue("top"));if(p.position!="absolute")return;o={offsetX:c,offsetY:g};const E=r.clientX,C=r.clientY,{offsetX:y,offsetY:v}=o,u=t.getBoundingClientRect(),D=u.left,k=u.top,P=u.width,h=u.height,d=document.documentElement.clientWidth,b=document.documentElement.clientHeight,w=-D+y,i=-k+v,x=d-D-P+y,I=b-k-h+v,$=z=>{let S=y+z.clientX-E,j=v+z.clientY-C;a||(S=Math.min(Math.max(S,w),x),j=Math.min(Math.max(j,i),I)),o={offsetX:S,offsetY:j},t&&(t.style.left=`${S}px`,t.style.top=`${j}px`),s==null||s()},m=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",m)};return e.addEventListener("mousedown",n),()=>{e.removeEventListener("mousedown",n)}}function os(t,e,a){const s=o=>{if(window.getComputedStyle(t).position=="absolute")return;t.setAttribute("draggable","true");const n=r=>{t.setAttribute("draggable","false"),document.removeEventListener("mouseup",n)};document.addEventListener("mouseup",n)};return e.addEventListener("mousedown",s),()=>{e.removeEventListener("mousedown",s)}}function ve(t,e,a,s){const o=n=>{const r=window.getComputedStyle(t),p=Number.parseFloat(r.getPropertyValue("width")),c=Number.parseFloat(r.getPropertyValue("height")),g=n.clientX,E=n.clientY,C=v=>{let u=v.clientX-g+p,D=v.clientY-E+c;t&&(a===0?t.style.width=`${u}px`:a===1?t.style.height=`${D}px`:(t.style.width=`${u}px`,t.style.height=`${D}px`)),s==null||s()},y=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",y)};return e.addEventListener("mousedown",o),()=>{e.removeEventListener("mousedown",o)}}function ns(t,e){const a=s=>{s.preventDefault(),s.stopPropagation();const{deltaY:o}=s,n=5e-4,c=window.getComputedStyle(t).getPropertyValue("transform").match(/matrix\(([-\d\.]+), ([-\d\.]+), ([-\d\.]+), ([-\d\.]+), ([-\d\.]+), ([-\d\.]+)\)/);let g=+(c==null?void 0:c[1])||1;const E=+(c==null?void 0:c[2])||0,C=+(c==null?void 0:c[3])||0;let y=+(c==null?void 0:c[4])||1;const v=+(c==null?void 0:c[5])||0,u=+(c==null?void 0:c[6])||0;g+=-o*n,y+=-o*n,t.style.transform=`matrix(${g}, ${E}, ${C}, ${y}, ${v}, ${u})`,e==null||e()};return t.addEventListener("wheel",a),()=>{t.removeEventListener("wheel",a)}}const as=R((t,{attrs:e,slots:a,expose:s})=>{const o=_(),n=_(),r=_(),p=_(),c=_();let g=null;const E=_({...e.style}),C=[],y=()=>{g=null,o.value.remove(),C.forEach(d=>d())},v=d=>{d.append(o.value)},u=()=>{if(!g)return;const d=g.props.style,b=g.elRef.value.style;for(let w=0,i=b.length;w<i;w++){const x=b.item(w);d[x]=b.getPropertyValue(x)}},D=d=>{y(),g=d,v(d.elRef.value);const b=ve(d.elRef.value,r.value,0,u),w=ve(d.elRef.value,p.value,1,u),i=ve(d.elRef.value,c.value,2,u),x=ss(d.elRef.value,n.value,!0,u);C.push(x,b,w,i),d.isNPage?C.push(ns(d.elRef.value,u)):C.push(os(d.elRef.value,n.value))},k=d=>{if(d.preventDefault(),d.stopPropagation(),!g)return;const b=g;y(),b.parent.remove(b)},P=d=>{if(d.preventDefault(),d.stopPropagation(),!g)return;const b=g,w=b.parent,i=w.children.indexOf(b),x=w.children[i-1];x&&w.insert(b,x)},h=d=>{if(d.preventDefault(),d.stopPropagation(),!g)return;const b=g,w=b.parent,i=w.children.indexOf(b),x=w.children[i+1];x&&w.insert(b,x,"after")};return s({control:D,clearControl:y}),()=>l("div",{ref:o,class:Y.controls,style:E.value},[l("div",{ref:n,class:Y.move},null),l("div",{ref:r,class:Y["right-resize"]},null),l("div",{ref:p,class:Y["bottom-resize"]},null),l("div",{ref:c,class:Y["corner-resize"]},null),l("div",{class:Y["button-list"]},[l("div",{class:Y.button,onClick:P},[l(pe,{size:15,color:"#fff"},{default:()=>[l(lt,null,null)]})]),l("div",{class:Y.button,onClick:h},[l(pe,{size:15,color:"#fff"},{default:()=>[l(rt,null,null)]})]),l("div",{class:Y.button,onClick:k},[l(pe,{size:15,color:"#fff"},{default:()=>[l(it,null,null)]})])])])}),ls=R((t,{expose:e})=>{const a=_(),s=_(),o=_({pointerEvents:"none",position:"absolute",zIndex:"100",inset:"0",boxSizing:"border-box",border:"2px dashed rgb(0 100 200 / 0.5)"}),n=()=>{s.value=null,a.value.remove()},r=c=>{c.append(a.value)};return e({hover:c=>{n(),s.value=c,r(c.elRef.value)},clearHover:n}),()=>l("div",{ref:a,style:o.value},null)});function rs(t,e){e===t||Se(t,e)||(e.isContainerNode?e.add(t):e.parent.insert(t,e))}const is=R((t,{emit:e})=>{const a=_(),s=_(!0),o=_(!0),n=ce([]);Promise.all(Object.values(Ut).map(i=>i())).then(i=>{n.value=i.map(x=>new x.default).filter(x=>!x.isNPage).map(x=>x.view)});const r=_([{title:"全屏",handleClick:()=>{const i=a.value;i&&(document.fullscreenElement==i?document.exitFullscreen():i.requestFullscreen())}},{title:"退出",handleClick:()=>{e("exit")}},{title:"面板",children:[{title:"参数面板",handleClick:()=>{o.value=!o.value}},{title:"组件面板",handleClick:()=>{s.value=!s.value}}]},{title:"导出",children:[{title:"导出.vue"},{title:"导出.json"}]}]),p=_(),g=new Ve().component,E=ce(),C=i=>{E.value=i,ct(()=>{p.value.control(i)})},y=i=>{C(i.targetNode)},v=_(),u=_(),D=i=>{v.value=i.targetNode,u.value.hover(i.targetNode)},k=i=>{v.value=null,u.value.clearHover()},P=ce(),h=ce(),d=i=>{P.value=i.targetNode},b=i=>{P.value=h.value=null},w=i=>{h.value=i.targetNode,rs(P.value,h.value),C(P.value)};return()=>G("div",{ref:a,class:ue.editor,onDragend:b,onDragNode:d},[l(Bt,{data:r.value},null),l($e,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,width:"300px",direction:"ltr"},{header:()=>l("div",{class:ue["drawer-title"]},[A("组件")]),default:()=>G("div",{style:{display:"flex",flexFlow:"wrap",justifyContent:"space-around"}},n.value.map(i=>G(i)))}),G("div",{class:ue.container,onMouseleave:k,onHover:D,onNodeSelect:y,onDragenterNode:w},l(g,null,null)),l($e,{modelValue:o.value,"onUpdate:modelValue":i=>o.value=i,width:"300px"},{header:()=>l("div",{class:ue["drawer-title"]},[A("参数")]),default:()=>E.value?G(E.value.params):""}),l(as,{ref:p,style:{display:E.value?"block":"none"}},null),l(ls,{ref:u,style:{display:v.value?"block":"none"}},null)])},{emits:["exit"]}),ze=t=>(dt("data-v-5bcd4484"),t=t(),ut(),t),cs={class:"container"},ds=ze(()=>O("span",{class:"card-title"},"低代码页面编辑器",-1)),us=ze(()=>O("p",{class:"card-content"},"拖拽编辑页面",-1)),ps=R({__name:"PageEditor",setup(t){_([]);const e=_(!1);return(a,s)=>{const o=pt;return Z(),ae("div",cs,[l(o,{class:"card-button",onClick:s[0]||(s[0]=n=>e.value=!0)},{header:K(()=>[ds]),default:K(()=>[us]),_:1}),l(f(yt),{modelValue:e.value,"onUpdate:modelValue":s[2]||(s[2]=n=>e.value=n),fullscreen:"","destroy-on-close":"","show-close":!1,class:"el-dialog"},{default:K(()=>[l(f(is),{onExit:s[1]||(s[1]=n=>e.value=!1)})]),_:1},8,["modelValue"])])}}}),ms=ge(ps,[["__scopeId","data-v-5bcd4484"]]),Ns=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"}));export{Qt as C,H as E,he as I,Ns as P,N as c};
