import{b0 as Fe,cR as xe,cP as we,cg as Ve,cS as Re,cv as Qe,cb as je,cw as et,cT as tt,y as f,bs as nt,q as Ae,an as G,r as M,L as X,M as j,b9 as Se,R as N,b as Le,av as Ce,b1 as at,h as ee,i as Ie,a6 as ot,a2 as te,d as Oe,be as st,x as it,a as Ee,cy as lt,cU as rt,cV as ut,a9 as ct,a5 as dt,o as pt,K as ft,c as m,e as S,A as h,W as ne,n as y,g as o,f as U,k as V,l as I,w as O,m as W,E as $,F as ae,C as vt,bh as mt,G as ht,ba as gt,t as Y,z as yt,_ as bt,a8 as Pe,s as xt}from"./index-g37XHkO7.js";import{c as $e,h as wt,j as St,d as ze}from"./error-C6KkHRRa.js";import{d as Ct,f as It,b as Et,e as Pt}from"./index-7XQ89VVv.js";const zt=()=>Fe&&/firefox/i.test(window.navigator.userAgent);function Nt(e){return e}function Tt(e,a,i){switch(i.length){case 0:return e.call(a);case 1:return e.call(a,i[0]);case 2:return e.call(a,i[0],i[1]);case 3:return e.call(a,i[0],i[1],i[2])}return e.apply(a,i)}var kt=800,Ft=16,Vt=Date.now;function Rt(e){var a=0,i=0;return function(){var n=Vt(),s=Ft-(n-i);if(i=n,s>0){if(++a>=kt)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function At(e){return function(){return e}}var Lt=xe?function(e,a){return xe(e,"toString",{configurable:!0,enumerable:!1,value:At(a),writable:!0})}:Nt,Ot=Rt(Lt),Ne=Math.max;function $t(e,a,i){return a=Ne(a===void 0?e.length-1:a,0),function(){for(var n=arguments,s=-1,r=Ne(n.length-a,0),u=Array(r);++s<r;)u[s]=n[a+s];s=-1;for(var l=Array(a+1);++s<a;)l[s]=n[s];return l[a]=i(u),Tt(e,this,l)}}var Te=we?we.isConcatSpreadable:void 0;function Mt(e){return Ve(e)||$e(e)||!!(Te&&e&&e[Te])}function Me(e,a,i,n,s){var r=-1,u=e.length;for(i||(i=Mt),s||(s=[]);++r<u;){var l=e[r];a>0&&i(l)?a>1?Me(l,a-1,i,n,s):wt(s,l):n||(s[s.length]=l)}return s}function Ht(e){var a=e==null?0:e.length;return a?Me(e,1):[]}function Bt(e){return Ot($t(e,void 0,Ht),e+"")}function Dt(e,a){return e!=null&&a in Object(e)}function Kt(e,a,i){a=Re(a,e);for(var n=-1,s=a.length,r=!1;++n<s;){var u=Qe(a[n]);if(!(r=e!=null&&i(e,u)))break;e=e[u]}return r||++n!=s?r:(s=e==null?0:e.length,!!s&&St(s)&&je(u,s)&&(Ve(e)||$e(e)))}function _t(e,a){return e!=null&&Kt(e,a,Dt)}function Ut(e,a,i){for(var n=-1,s=a.length,r={};++n<s;){var u=a[n],l=et(e,u);i(l,u)&&tt(r,Re(u,e),l)}return r}function Wt(e,a){return Ut(e,a,function(i,n){return _t(e,n)})}var Yt=Bt(function(e,a){return e==null?{}:Wt(e,a)});const oe="update:modelValue",mn="change",hn="input",Gt=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Xt=["class","style"],qt=/^on[A-Z]/,Zt=(e={})=>{const{excludeListeners:a=!1,excludeKeys:i}=e,n=f(()=>((i==null?void 0:i.value)||[]).concat(Xt)),s=Ae();return s?f(()=>{var r;return nt(Object.entries((r=s.proxy)==null?void 0:r.$attrs).filter(([u])=>!n.value.includes(u)&&!(a&&qt.test(u))))}):f(()=>({}))};function Jt(e){let a;function i(){if(e.value==null)return;const{selectionStart:s,selectionEnd:r,value:u}=e.value;if(s==null||r==null)return;const l=u.slice(0,Math.max(0,s)),d=u.slice(Math.max(0,r));a={selectionStart:s,selectionEnd:r,value:u,beforeTxt:l,afterTxt:d}}function n(){if(e.value==null||a==null)return;const{value:s}=e.value,{beforeTxt:r,afterTxt:u,selectionStart:l}=a;if(r==null||u==null||l==null)return;let d=s.length;if(s.endsWith(u))d=s.length-u.length;else if(s.startsWith(r))d=r.length;else{const b=r[l-1],x=s.indexOf(b,l-1);x!==-1&&(d=x+1)}e.value.setSelectionRange(d,d)}return[i,n]}function Qt(e,{beforeFocus:a,afterFocus:i,beforeBlur:n,afterBlur:s}={}){const r=Ae(),{emit:u}=r,l=G(),d=M(!1),b=g=>{Se(a)&&a(g)||d.value||(d.value=!0,u("focus",g),i==null||i())},x=g=>{var E;Se(n)&&n(g)||g.relatedTarget&&((E=l.value)!=null&&E.contains(g.relatedTarget))||(d.value=!1,u("blur",g),s==null||s())},v=()=>{var g,E;(g=l.value)!=null&&g.contains(document.activeElement)&&l.value!==document.activeElement||(E=e.value)==null||E.focus()};return X(l,g=>{g&&g.setAttribute("tabindex","-1")}),j(l,"focus",b,!0),j(l,"blur",x,!0),j(l,"click",v,!0),{isFocused:d,wrapperRef:l,handleFocus:b,handleBlur:x}}function jt({afterComposition:e,emit:a}){const i=M(!1),n=l=>{a==null||a("compositionstart",l),i.value=!0},s=l=>{var d;a==null||a("compositionupdate",l);const b=(d=l.target)==null?void 0:d.value,x=b[b.length-1]||"";i.value=!Gt(x)},r=l=>{a==null||a("compositionend",l),i.value&&(i.value=!1,N(()=>e(l)))};return{isComposing:i,handleComposition:l=>{l.type==="compositionend"?r(l):s(l)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:r}}const en=Le({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),tn=e=>Yt(en,e);let w;const nn=`
  height:0 !important;
  visibility:hidden !important;
  ${zt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,an=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function on(e){const a=window.getComputedStyle(e),i=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),s=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:an.map(u=>`${u}:${a.getPropertyValue(u)}`).join(";"),paddingSize:n,borderSize:s,boxSizing:i}}function ke(e,a=1,i){var n;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:s,borderSize:r,boxSizing:u,contextStyle:l}=on(e);w.setAttribute("style",`${l};${nn}`),w.value=e.value||e.placeholder||"";let d=w.scrollHeight;const b={};u==="border-box"?d=d+r:u==="content-box"&&(d=d-s),w.value="";const x=w.scrollHeight-s;if(Ce(a)){let v=x*a;u==="border-box"&&(v=v+s+r),d=Math.max(v,d),b.minHeight=`${v}px`}if(Ce(i)){let v=x*i;u==="border-box"&&(v=v+s+r),d=Math.min(v,d)}return b.height=`${d}px`,(n=w.parentNode)==null||n.removeChild(w),w=void 0,b}const sn=Le({id:{type:String,default:void 0},size:at,disabled:Boolean,modelValue:{type:ee([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ee([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ie},prefixIcon:{type:Ie},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ee([Object,Array,String]),default:()=>ot({})},autofocus:Boolean,rows:{type:Number,default:2},...tn(["ariaLabel"])}),ln={[oe]:e=>te(e),input:e=>te(e),change:e=>te(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},rn=Oe({name:"ElInput",inheritAttrs:!1}),un=Oe({...rn,props:sn,emits:ln,setup(e,{expose:a,emit:i}){const n=e,s=st(),r=it(),u=f(()=>{const t={};return n.containerRole==="combobox"&&(t["aria-haspopup"]=s["aria-haspopup"],t["aria-owns"]=s["aria-owns"],t["aria-expanded"]=s["aria-expanded"]),t}),l=f(()=>[n.type==="textarea"?se.b():c.b(),c.m(E.value),c.is("disabled",z.value),c.is("exceed",Ke.value),{[c.b("group")]:r.prepend||r.append,[c.m("prefix")]:r.prefix||n.prefixIcon,[c.m("suffix")]:r.suffix||n.suffixIcon||n.clearable||n.showPassword,[c.bm("suffix","password-clear")]:_.value&&Z.value,[c.b("hidden")]:n.type==="hidden"},s.class]),d=f(()=>[c.e("wrapper"),c.is("focus",K.value)]),b=Zt({excludeKeys:f(()=>Object.keys(u.value))}),{form:x,formItem:v}=Ct(),{inputId:g}=It(n,{formItemContext:v}),E=Et(),z=Pt(),c=Ee("input"),se=Ee("textarea"),H=G(),C=G(),q=M(!1),B=M(!1),ie=M(),D=G(n.inputStyle),T=f(()=>H.value||C.value),{wrapperRef:He,isFocused:K}=Qt(T,{afterBlur(){var t;n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"blur").catch(p=>ze()))}}),le=f(()=>{var t;return(t=x==null?void 0:x.statusIcon)!=null?t:!1}),R=f(()=>(v==null?void 0:v.validateState)||""),re=f(()=>R.value&&lt[R.value]),Be=f(()=>B.value?rt:ut),De=f(()=>[s.style]),ue=f(()=>[n.inputStyle,D.value,{resize:n.resize}]),P=f(()=>ct(n.modelValue)?"":String(n.modelValue)),_=f(()=>n.clearable&&!z.value&&!n.readonly&&!!P.value&&(K.value||q.value)),Z=f(()=>n.showPassword&&!z.value&&!n.readonly&&!!P.value&&(!!P.value||K.value)),k=f(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!z.value&&!n.readonly&&!n.showPassword),J=f(()=>P.value.length),Ke=f(()=>!!k.value&&J.value>Number(n.maxlength)),_e=f(()=>!!r.suffix||!!n.suffixIcon||_.value||n.showPassword||k.value||!!R.value&&le.value),[Ue,We]=Jt(H);dt(C,t=>{if(Ye(),!k.value||n.resize!=="both")return;const p=t[0],{width:F}=p.contentRect;ie.value={right:`calc(100% - ${F+15+6}px)`}});const A=()=>{const{type:t,autosize:p}=n;if(!(!Fe||t!=="textarea"||!C.value))if(p){const F=Pe(p)?p.minRows:void 0,ye=Pe(p)?p.maxRows:void 0,be=ke(C.value,F,ye);D.value={overflowY:"hidden",...be},N(()=>{C.value.offsetHeight,D.value=be})}else D.value={minHeight:ke(C.value).minHeight}},Ye=(t=>{let p=!1;return()=>{var F;if(p||!n.autosize)return;((F=C.value)==null?void 0:F.offsetParent)===null||(t(),p=!0)}})(A),L=()=>{const t=T.value,p=n.formatter?n.formatter(P.value):P.value;!t||t.value===p||(t.value=p)},Q=async t=>{Ue();let{value:p}=t.target;if(n.formatter&&(p=n.parser?n.parser(p):p),!de.value){if(p===P.value){L();return}i(oe,p),i("input",p),await N(),L(),We()}},ce=t=>{i("change",t.target.value)},{isComposing:de,handleCompositionStart:pe,handleCompositionUpdate:fe,handleCompositionEnd:ve}=jt({emit:i,afterComposition:Q}),Ge=()=>{B.value=!B.value,me()},me=async()=>{var t;await N(),(t=T.value)==null||t.focus()},Xe=()=>{var t;return(t=T.value)==null?void 0:t.blur()},qe=t=>{q.value=!1,i("mouseleave",t)},Ze=t=>{q.value=!0,i("mouseenter",t)},he=t=>{i("keydown",t)},Je=()=>{var t;(t=T.value)==null||t.select()},ge=()=>{i(oe,""),i("change",""),i("clear"),i("input","")};return X(()=>n.modelValue,()=>{var t;N(()=>A()),n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"change").catch(p=>ze()))}),X(P,()=>L()),X(()=>n.type,async()=>{await N(),L(),A()}),pt(()=>{!n.formatter&&n.parser,L(),N(A)}),a({input:H,textarea:C,ref:T,textareaStyle:ue,autosize:ft(n,"autosize"),isComposing:de,focus:me,blur:Xe,select:Je,clear:ge,resizeTextarea:A}),(t,p)=>(m(),S("div",ae(o(u),{class:[o(l),{[o(c).bm("group","append")]:t.$slots.append,[o(c).bm("group","prepend")]:t.$slots.prepend}],style:o(De),role:t.containerRole,onMouseenter:Ze,onMouseleave:qe}),[h(" input "),t.type!=="textarea"?(m(),S(ne,{key:0},[h(" prepend slot "),t.$slots.prepend?(m(),S("div",{key:0,class:y(o(c).be("group","prepend"))},[U(t.$slots,"prepend")],2)):h("v-if",!0),V("div",{ref_key:"wrapperRef",ref:He,class:y(o(d))},[h(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),S("span",{key:0,class:y(o(c).e("prefix"))},[V("span",{class:y(o(c).e("prefix-inner"))},[U(t.$slots,"prefix"),t.prefixIcon?(m(),I(o($),{key:0,class:y(o(c).e("icon"))},{default:O(()=>[(m(),I(W(t.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),V("input",ae({id:o(g),ref_key:"input",ref:H,class:o(c).e("inner")},o(b),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?B.value?"text":"password":t.type,disabled:o(z),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Q,onChange:ce,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),h(" suffix slot "),o(_e)?(m(),S("span",{key:1,class:y(o(c).e("suffix"))},[V("span",{class:y(o(c).e("suffix-inner"))},[!o(_)||!o(Z)||!o(k)?(m(),S(ne,{key:0},[U(t.$slots,"suffix"),t.suffixIcon?(m(),I(o($),{key:0,class:y(o(c).e("icon"))},{default:O(()=>[(m(),I(W(t.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),o(_)?(m(),I(o($),{key:1,class:y([o(c).e("icon"),o(c).e("clear")]),onMousedown:ht(o(gt),["prevent"]),onClick:ge},{default:O(()=>[vt(o(mt))]),_:1},8,["class","onMousedown"])):h("v-if",!0),o(Z)?(m(),I(o($),{key:2,class:y([o(c).e("icon"),o(c).e("password")]),onClick:Ge},{default:O(()=>[(m(),I(W(o(Be))))]),_:1},8,["class"])):h("v-if",!0),o(k)?(m(),S("span",{key:3,class:y(o(c).e("count"))},[V("span",{class:y(o(c).e("count-inner"))},Y(o(J))+" / "+Y(t.maxlength),3)],2)):h("v-if",!0),o(R)&&o(re)&&o(le)?(m(),I(o($),{key:4,class:y([o(c).e("icon"),o(c).e("validateIcon"),o(c).is("loading",o(R)==="validating")])},{default:O(()=>[(m(),I(W(o(re))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),t.$slots.append?(m(),S("div",{key:1,class:y(o(c).be("group","append"))},[U(t.$slots,"append")],2)):h("v-if",!0)],64)):(m(),S(ne,{key:1},[h(" textarea "),V("textarea",ae({id:o(g),ref_key:"textarea",ref:C,class:[o(se).e("inner"),o(c).is("focus",o(K))]},o(b),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(z),readonly:t.readonly,autocomplete:t.autocomplete,style:o(ue),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Q,onChange:ce,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend"]),o(k)?(m(),S("span",{key:0,style:yt(ie.value),class:y(o(c).e("count"))},Y(o(J))+" / "+Y(t.maxlength),7)):h("v-if",!0)],64))],16,["role"]))}});var cn=bt(un,[["__file","input.vue"]]);const gn=xt(cn);export{mn as C,gn as E,hn as I,oe as U,Qt as a,Me as b,jt as c,Zt as d,Ht as f,_t as h,Nt as i,$t as o,Yt as p,Ot as s,tn as u};
