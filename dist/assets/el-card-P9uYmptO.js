import{b as ae,h as be,d as B,a as ne,c,e as h,n as v,g as a,f as I,ac as q,t as Q,A as $,k as ve,z as Ne,_ as re,s as le,aV as ye,aH as b,ab as E,u as he,r as Ve,a2 as ge,y,aL as P,N as we,o as Ie,bw as Ee,B as Se,F as X,aJ as A,D as L,w as Z,l as F,V as _e,bx as Ce,E as x,bt as Pe,by as Ae,H as U,a4 as Fe}from"./index-Bsn8uhFR.js";import{u as ke,C as se,I as k,U as w,E as $e}from"./index-f9LhncNo.js";import{c as Be,a as De,d as Te}from"./index-NV_0FHae.js";import{t as ze,d as ee}from"./error-DyDUhvQa.js";import{v as te}from"./index-B9r6-Uhw.js";const Me=ae({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:be([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Ke=B({name:"ElCard"}),Oe=B({...Ke,props:Me,setup(s){const m=ne("card");return(l,r)=>(c(),h("div",{class:v([a(m).b(),a(m).is(`${l.shadow}-shadow`)])},[l.$slots.header||l.header?(c(),h("div",{key:0,class:v(a(m).e("header"))},[I(l.$slots,"header",{},()=>[q(Q(l.header),1)])],2)):$("v-if",!0),ve("div",{class:v([a(m).e("body"),l.bodyClass]),style:Ne(l.bodyStyle)},[I(l.$slots,"default")],6),l.$slots.footer||l.footer?(c(),h("div",{key:1,class:v(a(m).e("footer"))},[I(l.$slots,"footer",{},()=>[q(Q(l.footer),1)])],2)):$("v-if",!0)],2))}});var Le=re(Oe,[["__file","card.vue"]]);const xe=le(Le),Ue=ae({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ye,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:s=>s===null||b(s)||["min","max"].includes(s),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:s=>s>=0&&s===Number.parseInt(`${s}`,10)},validateEvent:{type:Boolean,default:!0},...ke(["ariaLabel"])}),He={[se]:(s,m)=>m!==s,blur:s=>s instanceof FocusEvent,focus:s=>s instanceof FocusEvent,[k]:s=>b(s)||E(s),[w]:s=>b(s)||E(s)},Ge=["aria-label","onKeydown"],Re=["aria-label","onKeydown"],We=B({name:"ElInputNumber"}),Ye=B({...We,props:Ue,emits:He,setup(s,{expose:m,emit:l}){const r=s,{t:H}=he(),p=ne("input-number"),V=Ve(),u=ge({currentValue:r.modelValue,userInput:null}),{formItem:N}=Be(),G=y(()=>b(r.modelValue)&&r.modelValue<=r.min),R=y(()=>b(r.modelValue)&&r.modelValue>=r.max),ue=y(()=>{const e=Y(r.step);return P(r.precision)?Math.max(Y(r.modelValue),e):(e>r.precision,r.precision)}),D=y(()=>r.controls&&r.controlsPosition==="right"),W=De(),g=Te(),T=y(()=>{if(u.userInput!==null)return u.userInput;let e=u.currentValue;if(E(e))return"";if(b(e)){if(Number.isNaN(e))return"";P(r.precision)||(e=e.toFixed(r.precision))}return e}),z=(e,t)=>{if(P(t)&&(t=ue.value),t===0)return Math.round(e);let n=String(e);const i=n.indexOf(".");if(i===-1||!n.replace(".","").split("")[i+t])return e;const _=n.length;return n.charAt(_-1)==="5"&&(n=`${n.slice(0,Math.max(0,_-1))}6`),Number.parseFloat(Number(n).toFixed(t))},Y=e=>{if(E(e))return 0;const t=e.toString(),n=t.indexOf(".");let i=0;return n!==-1&&(i=t.length-n-1),i},j=(e,t=1)=>b(e)?z(e+r.step*t):u.currentValue,M=()=>{if(r.readonly||g.value||R.value)return;const e=Number(T.value)||0,t=j(e);S(t),l(k,u.currentValue),O()},K=()=>{if(r.readonly||g.value||G.value)return;const e=Number(T.value)||0,t=j(e,-1);S(t),l(k,u.currentValue),O()},J=(e,t)=>{const{max:n,min:i,step:o,precision:f,stepStrictly:_,valueOnClear:C}=r;n<i&&ze("InputNumber","min should not be greater than max.");let d=Number(e);if(E(e)||Number.isNaN(d))return null;if(e===""){if(C===null)return null;d=Fe(C)?{min:i,max:n}[C]:C}return _&&(d=z(Math.round(d/o)*o,f)),P(f)||(d=z(d,f)),(d>n||d<i)&&(d=d>n?n:i,t&&l(w,d)),d},S=(e,t=!0)=>{var n;const i=u.currentValue,o=J(e);if(!t){l(w,o);return}i===o&&e||(u.userInput=null,l(w,o),i!==o&&l(se,o,i),r.validateEvent&&((n=N==null?void 0:N.validate)==null||n.call(N,"change").catch(f=>ee())),u.currentValue=o)},oe=e=>{u.userInput=e;const t=e===""?null:Number(e);l(k,t),S(t,!1)},ie=e=>{const t=e!==""?Number(e):"";(b(t)&&!Number.isNaN(t)||e==="")&&S(t),O(),u.userInput=null},de=()=>{var e,t;(t=(e=V.value)==null?void 0:e.focus)==null||t.call(e)},ce=()=>{var e,t;(t=(e=V.value)==null?void 0:e.blur)==null||t.call(e)},me=e=>{l("focus",e)},pe=e=>{var t;u.userInput=null,l("blur",e),r.validateEvent&&((t=N==null?void 0:N.validate)==null||t.call(N,"blur").catch(n=>ee()))},O=()=>{u.currentValue!==r.modelValue&&(u.currentValue=r.modelValue)},fe=e=>{document.activeElement===e.target&&e.preventDefault()};return we(()=>r.modelValue,(e,t)=>{const n=J(e,!0);u.userInput===null&&n!==t&&(u.currentValue=n)},{immediate:!0}),Ie(()=>{var e;const{min:t,max:n,modelValue:i}=r,o=(e=V.value)==null?void 0:e.input;if(o.setAttribute("role","spinbutton"),Number.isFinite(n)?o.setAttribute("aria-valuemax",String(n)):o.removeAttribute("aria-valuemax"),Number.isFinite(t)?o.setAttribute("aria-valuemin",String(t)):o.removeAttribute("aria-valuemin"),o.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),o.setAttribute("aria-disabled",String(g.value)),!b(i)&&i!=null){let f=Number(i);Number.isNaN(f)&&(f=null),l(w,f)}o.addEventListener("wheel",fe,{passive:!1})}),Ee(()=>{var e,t;const n=(e=V.value)==null?void 0:e.input;n==null||n.setAttribute("aria-valuenow",`${(t=u.currentValue)!=null?t:""}`)}),Se({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},y(()=>!!r.label)),m({focus:de,blur:ce}),(e,t)=>(c(),h("div",{class:v([a(p).b(),a(p).m(a(W)),a(p).is("disabled",a(g)),a(p).is("without-controls",!e.controls),a(p).is("controls-right",a(D))]),onDragstart:t[0]||(t[0]=U(()=>{},["prevent"]))},[e.controls?X((c(),h("span",{key:0,role:"button","aria-label":a(H)("el.inputNumber.decrease"),class:v([a(p).e("decrease"),a(p).is("disabled",a(G))]),onKeydown:A(K,["enter"])},[I(e.$slots,"decrease-icon",{},()=>[L(a(x),null,{default:Z(()=>[a(D)?(c(),F(a(_e),{key:0})):(c(),F(a(Ce),{key:1}))]),_:1})])],42,Ge)),[[a(te),K]]):$("v-if",!0),e.controls?X((c(),h("span",{key:1,role:"button","aria-label":a(H)("el.inputNumber.increase"),class:v([a(p).e("increase"),a(p).is("disabled",a(R))]),onKeydown:A(M,["enter"])},[I(e.$slots,"increase-icon",{},()=>[L(a(x),null,{default:Z(()=>[a(D)?(c(),F(a(Pe),{key:0})):(c(),F(a(Ae),{key:1}))]),_:1})])],42,Re)),[[a(te),M]]):$("v-if",!0),L(a($e),{id:e.id,ref_key:"input",ref:V,type:"number",step:e.step,"model-value":a(T),placeholder:e.placeholder,readonly:e.readonly,disabled:a(g),size:a(W),max:e.max,min:e.min,name:e.name,"aria-label":e.label||e.ariaLabel,"validate-event":!1,onKeydown:[A(U(M,["prevent"]),["up"]),A(U(K,["prevent"]),["down"])],onBlur:pe,onFocus:me,onInput:oe,onChange:ie},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var je=re(Ye,[["__file","input-number.vue"]]);const et=le(je);export{xe as E,et as a};
