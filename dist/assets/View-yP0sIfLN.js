import{d as F,r as D,N as B,y as N,c as s,l as d,w as r,D as f,k as c,t as _,g as i,e as w,ae as k,Y as h,am as v,an as x}from"./index-CvzrRroh.js";import{E as O,S as T}from"./SytPreviewItem-DKMedW9x.js";import{E as C,a as J}from"./el-timeline-item-DaWK3-QH.js";import{E as L}from"./el-card-CeNxBv2S.js";/* empty css                     */import{f as R}from"./examples-BN9ghPZ7.js";import{a as U}from"./index-DOm-affa.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vnode-DVMq17-v.js";/* empty css                  *//* empty css                 *//* empty css                  *//* empty css               *//* empty css                    */import"./el-radio-Bnf4y1jI.js";/* empty css                  */import"./index-BmUq3rwC.js";import"./error-Br4eXv7y.js";import"./index-qChH8gpH.js";import"./index-CRTUtFhj.js";import"./index-CR5Ieg7N.js";import"./index-Bbyyluvs.js";import"./index-Cbqz8tSS.js";import"./isEqual-Bw39J2LG.js";import"./index-BQjoHAmH.js";import"./index-Dhfn7e9K.js";import"./index-BpYBCOKL.js";import"./castArray-BGWFyrrn.js";import"./index-D3GcvVds.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-7gj8T3nu.js";import"./_baseClone-CuXz6tC2.js";import"./position-BvmUxjYd.js";const P=n=>(v("data-v-4b642ccb"),n=n(),x(),n),W=P(()=>c("span",null,"流程",-1)),Y=F({__name:"View",props:{data:Object},setup(n){const S=n;let o=D({name:"",status:"",submitter:{},formData:[],flowData:[]});B(()=>JSON.parse(JSON.stringify(S.data)),async t=>{let e=t.formData,a=(await R({name:t.name})).data.formData;for(let l in e)y(l,a).value=e[l];o.value=t,o.value.formData=a},{deep:!0,immediate:!0});const y=(t,e)=>{for(let a of e)if(a.type==="layout"){for(let l of a.cols)for(let p of l.children)if(t===p.field)return p}else if(t===a.field)return a};let E=N(()=>{let t=o.value.flowData.map(e=>{switch(e.status){case"未处理":e.color="";break;case"处理中":e.color="";break;case"通过":e.color="#00aabb";break;case"否决":e.color="#ff0000"}return e});return t.unshift({type:"发起人",label:o.value.submitter.nickname,color:"#00aabb"}),t});const b=D();return(t,e)=>{const a=U,l=L,p=J,V=C,g=O;return s(),d(g,{direction:"vertical",fill:"",class:"submit-container"},{default:r(()=>[f(l,null,{header:r(()=>[c("h1",null,_(i(o).name),1)]),default:r(()=>[f(a,{ref_key:"ruleFormRef",ref:b,model:i(o).formData,disabled:""},{default:r(()=>[(s(!0),w(h,null,k(i(o).formData,(m,u)=>(s(),d(T,{key:m.field,modelValue:i(o).formData[u],"onUpdate:modelValue":I=>i(o).formData[u]=I,index:u.toString(),"rule-form-ref":b.value},null,8,["modelValue","onUpdate:modelValue","index","rule-form-ref"]))),128))]),_:1},8,["model"])]),_:1}),f(l,null,{header:r(()=>[W]),default:r(()=>[f(V,null,{default:r(()=>[(s(!0),w(h,null,k(i(E),m=>(s(),d(p,{key:m.id,color:m.color,timestamp:m.timestamp},{default:r(()=>[c("div",null,_(m.type),1),c("div",null,_(m.label),1)]),_:2},1032,["color","timestamp"]))),128))]),_:1})]),_:1})]),_:1})}}}),ye=j(Y,[["__scopeId","data-v-4b642ccb"]]);export{ye as default};
