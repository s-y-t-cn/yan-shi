import{d as F,r as D,y as B,z as v,c as s,k as d,w as r,M as f,j as c,t as _,g as i,e as w,H as k,G as h,a8 as x,a9 as N}from"./index-wChoSQeH.js";import{E as O}from"./el-space-DCaxWfY8.js";import{E as T,a as C}from"./el-timeline-item-CMWafSNJ.js";import{E as j}from"./el-card-DX43uJLz.js";/* empty css                     */import{f as J}from"./examples-yhaw_fpR.js";import{S as L}from"./SytPreviewItem-CcZSju5N.js";import{a as R}from"./index-19VOIpai.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vnode-DAic0pXr.js";import"./index-D-RVAyLI.js";import"./plugin-vue_export-helper-CqGSI99y.js";import"./index-duP31kez.js";import"./index-BWwQj9eg.js";import"./index-C26DhIRX.js";import"./typescript-C2L8DowG.js";import"./index-CBgWw-pb.js";/* empty css                  */import"./el-tag-By8_zcrd.js";import"./el-checkbox-CHzczd5X.js";import"./_Uint8Array-Tq6A7aOA.js";import"./isEqual-R40CW5QC.js";import"./index-kUV9fHpH.js";import"./focus-trap-jsAX95gq.js";import"./scroll-DTGRP1iM.js";import"./castArray-3P2b58-t.js";import"./el-radio-DxkNix79.js";import"./index-CfdKo_Tz.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-DMzLImq4.js";import"./index-yGr0agQA.js";import"./_baseClone-b8vWj-bA.js";const z=n=>(x("data-v-4b642ccb"),n=n(),N(),n),G=z(()=>c("span",null,"流程",-1)),H=F({__name:"View",props:{data:Object},setup(n){const S=n;let o=D({name:"",status:"",submitter:{},formData:[],flowData:[]});B(()=>JSON.parse(JSON.stringify(S.data)),async t=>{let e=t.formData,a=(await J({name:t.name})).data.formData;for(let l in e)y(l,a).value=e[l];o.value=t,o.value.formData=a},{deep:!0,immediate:!0});const y=(t,e)=>{for(let a of e)if(a.type==="layout"){for(let l of a.cols)for(let p of l.children)if(t===p.field)return p}else if(t===a.field)return a};let E=v(()=>{let t=o.value.flowData.map(e=>{switch(e.status){case"未处理":e.color="";break;case"处理中":e.color="";break;case"通过":e.color="#00aabb";break;case"否决":e.color="#ff0000"}return e});return t.unshift({type:"发起人",label:o.value.submitter.nickname,color:"#00aabb"}),t});const b=D();return(t,e)=>{const a=R,l=j,p=C,V=T,g=O;return s(),d(g,{direction:"vertical",fill:"",class:"submit-container"},{default:r(()=>[f(l,null,{header:r(()=>[c("h1",null,_(i(o).name),1)]),default:r(()=>[f(a,{ref_key:"ruleFormRef",ref:b,model:i(o).formData,disabled:""},{default:r(()=>[(s(!0),w(h,null,k(i(o).formData,(m,u)=>(s(),d(L,{key:m.field,modelValue:i(o).formData[u],"onUpdate:modelValue":I=>i(o).formData[u]=I,index:u.toString(),"rule-form-ref":b.value},null,8,["modelValue","onUpdate:modelValue","index","rule-form-ref"]))),128))]),_:1},8,["model"])]),_:1}),f(l,null,{header:r(()=>[G]),default:r(()=>[f(V,null,{default:r(()=>[(s(!0),w(h,null,k(i(E),m=>(s(),d(p,{key:m.id,color:m.color,timestamp:m.timestamp},{default:r(()=>[c("div",null,_(m.type),1),c("div",null,_(m.label),1)]),_:2},1032,["color","timestamp"]))),128))]),_:1})]),_:1})]),_:1})}}}),Se=U(H,[["__scopeId","data-v-4b642ccb"]]);export{Se as default};
