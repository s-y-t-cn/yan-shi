import{d as F,r as D,L as B,y as v,c as s,l as d,w as r,C as c,k as f,t as _,g as i,e as w,ac as k,W as h,ak as x,al as C}from"./index-g37XHkO7.js";import{E as N,S as O}from"./SytPreviewItem-zesOK_pE.js";import{E as T,a as L}from"./el-timeline-item-xpV2Go0K.js";import{E as J}from"./el-card-DuID4xM1.js";/* empty css                     */import{f as R}from"./examples-DKVMKnJo.js";import{a as U}from"./index-ekn85pdJ.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vnode-DwFJRcHj.js";/* empty css                  *//* empty css                 *//* empty css                  *//* empty css               *//* empty css                    */import"./el-radio-KCor6jJh.js";/* empty css                  */import"./index-CWjOxhQe.js";import"./error-C6KkHRRa.js";import"./index-7XQ89VVv.js";import"./index-BP-IRLDI.js";import"./index-16XDJShn.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-ClVUFy22.js";import"./isEqual-sIzh-_wJ.js";import"./index-CdXg1XjN.js";import"./index-B--V0hz4.js";import"./index-Cq1NGWuE.js";import"./index-Ct0d8tij.js";import"./castArray-D6nup7xA.js";import"./index-rcptLjZg.js";import"./_baseClone-YGkPyP1V.js";import"./position-8TaTLdEo.js";const j=n=>(x("data-v-4b642ccb"),n=n(),C(),n),P=j(()=>f("span",null,"流程",-1)),q=F({__name:"View",props:{data:Object},setup(n){const S=n;let o=D({name:"",status:"",submitter:{},formData:[],flowData:[]});B(()=>JSON.parse(JSON.stringify(S.data)),async t=>{let e=t.formData,a=(await R({name:t.name})).data.formData;for(let l in e)y(l,a).value=e[l];o.value=t,o.value.formData=a},{deep:!0,immediate:!0});const y=(t,e)=>{for(let a of e)if(a.type==="layout"){for(let l of a.cols)for(let p of l.children)if(t===p.field)return p}else if(t===a.field)return a};let E=v(()=>{let t=o.value.flowData.map(e=>{switch(e.status){case"未处理":e.color="";break;case"处理中":e.color="";break;case"通过":e.color="#00aabb";break;case"否决":e.color="#ff0000"}return e});return t.unshift({type:"发起人",label:o.value.submitter.nickname,color:"#00aabb"}),t});const b=D();return(t,e)=>{const a=U,l=J,p=L,V=T,g=N;return s(),d(g,{direction:"vertical",fill:"",class:"submit-container"},{default:r(()=>[c(l,null,{header:r(()=>[f("h1",null,_(i(o).name),1)]),default:r(()=>[c(a,{ref_key:"ruleFormRef",ref:b,model:i(o).formData,disabled:""},{default:r(()=>[(s(!0),w(h,null,k(i(o).formData,(m,u)=>(s(),d(O,{key:m.field,modelValue:i(o).formData[u],"onUpdate:modelValue":I=>i(o).formData[u]=I,index:u.toString(),"rule-form-ref":b.value},null,8,["modelValue","onUpdate:modelValue","index","rule-form-ref"]))),128))]),_:1},8,["model"])]),_:1}),c(l,null,{header:r(()=>[P]),default:r(()=>[c(V,null,{default:r(()=>[(s(!0),w(h,null,k(i(E),m=>(s(),d(p,{key:m.id,color:m.color,timestamp:m.timestamp},{default:r(()=>[f("div",null,_(m.type),1),f("div",null,_(m.label),1)]),_:2},1032,["color","timestamp"]))),128))]),_:1})]),_:1})]),_:1})}}}),Se=W(q,[["__scopeId","data-v-4b642ccb"]]);export{Se as default};
