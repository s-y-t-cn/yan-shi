import{d as z,r as m,o,c as f,w as y,j as v,z as w,F as T,a as c,A as D,B as N,e as b,C as R,f as i,D as E,v as S,x as U}from"./index.cc6c8a0f.js";const V=z({props:{thData:{type:Object}},setup(l){return(_,h)=>{const g=m("el-table-column"),p=m("SytTableColumn",!0);return l.thData.children?(o(),f(g,{key:1,label:l.thData.title,align:"center"},{default:y(()=>[(o(!0),v(T,null,w(l.thData.children,n=>(o(),f(p,{key:n.dataIndex,"th-data":n},null,8,["th-data"]))),128))]),_:1},8,["label"])):(o(),f(g,{key:0,prop:l.thData.dataIndex,label:l.thData.title,align:"center",sortable:"custom"},null,8,["prop","label"]))}}}),O=z({props:{columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},selection:{type:Boolean,default:!1}},emits:["selection-alter"],setup(l,{emit:_}){const h=l;let g=c(),p=D(()=>h.columns),n=c([]),C=c(""),k=c(""),x=({prop:e,order:t})=>{C.value=e,k.value=t,t==="ascending"&&n.value.sort((r,u)=>r[e]<u[e]?1:r[e]>u[e]?-1:0),t==="descending"&&n.value.sort((r,u)=>r[e]<u[e]?-1:r[e]>u[e]?1:0)};N(()=>{n.value=U(h.data),x({prop:C.value,order:k.value})});let s=c(10),d=c(1),B=D(()=>{let e=(d.value-1)*s.value,t=e+s.value;return n.value.slice(e,t)});const A=e=>{_("selection-alter",e)};return(e,t)=>{const r=m("el-table-column"),u=m("el-table"),j=m("el-pagination");return o(),v("div",null,[b(u,{ref_key:"tableRef",ref:g,data:i(B),"row-key":"_id",onSortChange:i(x),onSelectionChange:A,"max-height":"80%",border:"",stripe:""},{default:y(()=>[l.selection?(o(),f(r,{key:0,type:"selection","reserve-selection":"",width:55})):R("",!0),(o(!0),v(T,null,w(i(p),a=>(o(),f(V,{key:a.dataIndex,"th-data":a},null,8,["th-data"]))),128)),b(r,{label:"\u64CD\u4F5C",align:"center",fixed:"right",width:100},{default:y(({row:a,column:F,$index:I})=>[E(e.$slots,"operations",{row:a,column:F,$index:I})]),_:3})]),_:3},8,["data","onSortChange"]),b(j,{small:"",background:"","page-size":i(s),"onUpdate:page-size":t[0]||(t[0]=a=>S(s)?s.value=a:s=a),"current-page":i(d),"onUpdate:current-page":t[1]||(t[1]=a=>S(d)?d.value=a:d=a),layout:"total, sizes, prev, pager, next, jumper",total:i(n).length,"page-sizes":[10,20,30,40,50,100]},null,8,["page-size","current-page","total"])])}}});export{O as _};
