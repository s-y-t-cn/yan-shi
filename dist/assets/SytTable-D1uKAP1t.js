import{b as d,c as $}from"./index-CwgBQ-kl.js";import{d as A,N as E,c as a,l as s,g as c,w as h,e as m,W as k,ac as x,x as N,r as g,y as v,a0 as O,L as R,B as z,z as L,ag as S,G as w,f as M}from"./index-BJnXyKVp.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _=A({__name:"SytTableColumn",props:{thData:{type:Object}},setup(e){return(y,l)=>{const b=E("SytTableColumn",!0);return e.thData.children?(a(),s(c(d),{key:1,label:e.thData.title,align:"center"},{default:h(()=>[(a(!0),m(k,null,x(e.thData.children,i=>(a(),s(b,{key:i.dataIndex,"th-data":i},null,8,["th-data"]))),128))]),_:1},8,["label"])):(a(),s(c(d),{key:0,prop:e.thData.dataIndex,label:e.thData.title,align:"center",sortable:e.thData.sortable,"show-overflow-tooltip":e.thData.showOverflowTooltip},null,8,["prop","label","sortable","show-overflow-tooltip"]))}}}),j=1500,F=40,G={__name:"SytTable",props:{columns:{type:Array,default:()=>[{title:"名字",dataIndex:"name"},{title:"a列",children:[{title:"b列",dataIndex:"b",sortable:!0,showOverflowTooltip:!0},{title:"c列",dataIndex:"c"}]}]},data:{type:Array,default:()=>[{b:"1",c:"2"},{b:"3",c:"4"}]},selection:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1},autoScroll:{type:Boolean,default:!1}},emits:["selection-change"],setup(e,{emit:y}){const l=e,b=y,i=N(),p=g(),T=v(()=>l.columns),C=o=>{b("selection-change",o)},D=O({"--el-table-bg-color":"transparent","--el-table-tr-bg-color":"transparent","--el-table-header-bg-color":"rgb(255 255 255 / 0.05)","--el-fill-color-light":"rgb(255 255 255 / 0.05)","--el-fill-color-lighter":"rgb(255 255 255 / 0.02)"});let f=null,n=g(!0);const I=v(()=>l.autoScroll?l.data.concat(l.data):l.data),B=()=>{let o=0;return()=>{var u;if(!n.value)return;const r=l.data.length,t=o%(r+1)*F;(u=p.value)==null||u.scrollTo({left:0,top:t,behavior:t==0?"instant":"smooth"}),o++}};return R(()=>l.autoScroll,o=>{f&&clearInterval(f),o&&(f=setInterval(B(),j))},{immediate:!0}),(o,r)=>(a(),m("div",{class:"table-container",onMouseover:r[0]||(r[0]=t=>S(n)?n.value=!1:n=!1),onMouseout:r[1]||(r[1]=t=>S(n)?n.value=!0:n=!0)},[z(c($),{ref_key:"tableRef",ref:p,height:"100%",style:L(e.transparent?D:null),data:I.value,"row-key":"id",border:!1,stripe:"",onSelectionChange:C},{default:h(()=>[e.selection?(a(),s(c(d),{key:0,type:"selection","reserve-selection":"",width:55})):w("",!0),(a(!0),m(k,null,x(T.value,t=>(a(),s(_,{key:t.id,"th-data":t},null,8,["th-data"]))),128)),i.operations?(a(),s(c(d),{key:1,label:"操作",align:"center",fixed:"right",width:100},{default:h(({row:t,column:u})=>[M(o.$slots,"operations",{row:t,column:u},void 0,!0)]),_:3})):w("",!0)]),_:3},8,["style","data"])],32))}},J=V(G,[["__scopeId","data-v-0bbbbd1f"]]);export{J as S};
